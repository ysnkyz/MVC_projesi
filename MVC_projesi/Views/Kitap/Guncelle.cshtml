
@{ ViewBag.Title = "Kitap Güncelle";
    int sayac = 0;
    }

@using KutuphaneProgrami.Data.Model

@model Kitap


<h2>KİTAP GÜNCELLE</h2>

<script src="~/Scriptler/Main.js"></script>

<form class="form-horizontal">

    <div class="form-group">
        <label class="col-sm-12">Kategori Ekle </label>
        <div class="col-sm-10">
            <select id="kategoriler" class="form-control">
                @foreach (var kategori in ViewBag.Kategoriler)
                {
                    foreach (var eklenmiskategori in Model.Kategoriler)
                    {
                        if (kategori.Id != eklenmiskategori.Id)
                        {
                            if (sayac < Model.Kategoriler.Count - 1 )
                            {
                                sayac++;
                            }
                            else
                            {
                                <option data-id="@kategori.Id">@kategori.Ad</option>
                                break;
                            }
                        }
                        else
                        {
                            break;
                        }
                    }

                }
            </select>
        </div>


        <div class="col-sm-2">
            <input type="button" id="kategoriEkle" class="btn btn-block btn-info" value="Ekle">
        </div>

        <div id="eklenenKategoriler" class="form-group">
            <label class="col-md-12">Kategoriler</label>
            @foreach (var kategori in Model.Kategoriler)
            {
                <div id="@kategori.Id" class="col-md-1 bg-primary kategoriSil" style="margin-right:2px; margin-bottom:2px;">@kategori.Ad</div>
            }
        </div>
    </div>

    <div class="form-group">
        <label class="col-sm-12">Yazar Ekle</label>
        <div class="col-sm-12">
            <select id="yazar" class="form-control">
                @foreach (var yazar in ViewBag.Yazarlar)
                {
                    if (Model.Yazar.Id == yazar.Id)
                    {
                        <option data-id="@yazar.Id" selected>@yazar.YazarAdi</option>
                    }
                    else
                    {
                        <option data-id="@yazar.Id">@yazar.YazarAdi</option>
                    }
                    
                }
            </select>
        </div>
    </div>


    <div class="form-group">
        <label class="col-md-12"> Kitap Adı </label>
        <div class="col-md-12">
            <input id="kitapAd" value="@Model.Ad" type="text" class="form-control" placeholder="Kitap Adını Giriniz ">
        </div>
    </div>

    <div class="form-group">
        <label class="col-md-12"> Kitap Adeti </label>
        <div class="col-md-12">
            <input id="kitapAdet" value="@Model.Adet" type="text" class="form-control" placeholder="Kitap Adetini Giriniz">
        </div>
    </div>

    <div class="form-group">
        <label class="col-md-12"> Sıra No </label>
        <div class="col-md-12">
            <input id="siraNo" type="text" value="@Model.SiraNo" class="form-control" placeholder="Sıra No Giriniz">
        </div>
    </div>


    <div class="form-group">
        <div class="col-md-12">
            <input type="button" id="kitapGuncelle" data-id="@Model.Id" class="btn btn-block btn-info" value="Güncelle">
        </div>
    </div>


</form>